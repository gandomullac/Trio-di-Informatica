	.data				# Seguono le direttive
	.include "sintable.asm"		# Includo la look-up-table

	.text				# Seguono le linee di codice
MAIN:
	jal SIN_APR			# Chiamata a funzione

	mov.s $f12, $f30		# La stampa dei float si fa con f12 
	li $v0, 2			# Predispongo la variabile della chiamata a sistema a 2 -> stampa float
	syscall				# Stampo a video la variabile caricata ($v0 == 1)
	addi $v0, $zero, 10		# Predispongo la variabile della chiamata a sistema a 10 -> Termina l'esecuzione
	syscall				# Termino l'esecuzione
		
		
SIN_APR:
	lw c1 $f3, pi			# Carico la word del pi (f0 fino a f2 valore di ritorno secondo convenzione)(saranno argomenti)
	lwc1 $f4, x0			# Carico la word di x0
	lwc1 $f5, xstep			# Carico la word di xstep
	
	sub.s $f6, $f2, $f3		# a = x-x0 	# Ottengo il numeratore
	div.s $f6, $f6, 		# b = a/x	# Divido e ottengo l'indice (idx)
	
	floor.w.s $f7, $f6		# idx= floor(b)	# Arrotondo
# implementare controllo su N (dim_log)
	mfc1 $t0, $f7
	mul $t1, $t0, 4			# Calcolo la pos. dell'elemento da estrarre da sintable effettuando la mol. idx * dim_word
	lwc1 $f30, sintable($t0)	# Carico il valore estratto da sintable di indirizzo offsettato di t0
# salviamo i valori di ritorno nei registri 30 e 31 come valori di ritorno
	jr $ra
